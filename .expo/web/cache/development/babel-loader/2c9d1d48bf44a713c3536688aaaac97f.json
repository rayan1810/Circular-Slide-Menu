{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useTypeahead = useTypeahead;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _reducer = require(\"./reducer\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar stateChangeTypes = _interopRequireWildcard(require(\"./types\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _utils = require(\"./utils\");\n\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined;\n}\n\nfunction useTypeahead(props) {\n  _s();\n\n  var defaultValues = (0, _extends2.default)({}, _utils.dropdownDefaultStateValues);\n  defaultValues.isOpen = (0, _utils.getDefaultValue)(props, 'isOpen');\n\n  var _React$useReducer = _react.default.useReducer(_reducer.useTypeaheadReducer, defaultValues),\n      _React$useReducer2 = (0, _slicedToArray2.default)(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var dispatchWithProps = function dispatchWithProps(object) {\n    dispatch((0, _extends2.default)({}, object, {\n      props: props\n    }));\n  };\n\n  var inputValue = state.inputValue,\n      isOpen = state.isOpen;\n  var items = props.items,\n      onInputValueChange = props.onInputValueChange,\n      onSelectedItemChange = props.onSelectedItemChange,\n      selectedItem = props.selectedItem,\n      itemToString = props.itemToString;\n  var isControlled = isControlledProp(props, 'selectedItem');\n  (0, _react.useEffect)(function () {\n    if (isControlled) {\n      dispatch({\n        type: stateChangeTypes.ControlledPropUpdatedSelectedItem,\n        inputValue: itemToString(selectedItem)\n      });\n    }\n  }, [selectedItem, isControlled, itemToString]);\n\n  var onChangeText = function onChangeText(text) {\n    onInputValueChange == null ? void 0 : onInputValueChange({\n      inputValue: text\n    });\n    dispatchWithProps({\n      type: stateChangeTypes.InputChange,\n      inputValue: text\n    });\n  };\n\n  var handleItemSelect = function handleItemSelect(item, index) {\n    onSelectedItemChange == null ? void 0 : onSelectedItemChange(item);\n    dispatchWithProps({\n      type: stateChangeTypes.ItemClick,\n      index: index\n    });\n\n    _reactNative.Keyboard.dismiss();\n  };\n\n  var getMenuItemProps = function getMenuItemProps(item, index) {\n    return {\n      onPress: function onPress() {\n        return handleItemSelect(item, index);\n      },\n      accessible: true,\n      accessiblityRole: 'menuitem'\n    };\n  };\n\n  var getMenuProps = function getMenuProps() {\n    return {\n      accessible: true,\n      accessibilityRole: 'menu',\n      accessibilityHint: \"Showing \" + items.length + \" records\"\n    };\n  };\n\n  var getToggleButtonProps = function getToggleButtonProps() {\n    return {\n      onPress: function onPress() {\n        dispatchWithProps({\n          type: stateChangeTypes.ToggleButtonClick\n        });\n      }\n    };\n  };\n\n  var getInputProps = function getInputProps(propInputVal, propOnchangeText) {\n    return {\n      onChangeText: propInputVal ? propOnchangeText : onChangeText,\n      value: propInputVal ? propInputVal : inputValue,\n      accessibilityRole: 'combobox',\n      accessibilityLabel: 'Typeahead input',\n      accessibilityState: {\n        expanded: isOpen\n      }\n    };\n  };\n\n  return {\n    getInputProps: getInputProps,\n    getMenuItemProps: getMenuItemProps,\n    getMenuProps: getMenuProps,\n    getToggleButtonProps: getToggleButtonProps,\n    isOpen: isOpen\n  };\n}\n\n_s(useTypeahead, \"ebhq3420ccDxlp8R7jwnTynh+zY=\");\n\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["C:\\projects\\portfolio\\experiment-1\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\Typeahead\\useTypeahead\\useTypeahead.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","useTypeahead","_slicedToArray2","_extends2","_reducer","_react","stateChangeTypes","_utils","isControlledProp","props","key","undefined","defaultValues","default","dropdownDefaultStateValues","isOpen","getDefaultValue","_React$useReducer","useReducer","useTypeaheadReducer","_React$useReducer2","state","dispatch","dispatchWithProps","object","inputValue","items","onInputValueChange","onSelectedItemChange","selectedItem","itemToString","isControlled","useEffect","type","ControlledPropUpdatedSelectedItem","onChangeText","text","InputChange","handleItemSelect","item","index","ItemClick","_reactNative","Keyboard","dismiss","getMenuItemProps","onPress","accessible","accessiblityRole","getMenuProps","accessibilityRole","accessibilityHint","length","getToggleButtonProps","ToggleButtonClick","getInputProps","propInputVal","propOnchangeText","accessibilityLabel","accessibilityState","expanded"],"mappings":"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","sourcesContent":["var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.useTypeahead=useTypeahead;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _reducer=require(\"./reducer\");var _react=_interopRequireWildcard(require(\"react\"));var stateChangeTypes=_interopRequireWildcard(require(\"./types\"));var _reactNative=require(\"react-native\");var _utils=require(\"./utils\");function isControlledProp(props,key){return props[key]!==undefined;}function useTypeahead(props){var defaultValues=(0,_extends2.default)({},_utils.dropdownDefaultStateValues);defaultValues.isOpen=(0,_utils.getDefaultValue)(props,'isOpen');var _React$useReducer=_react.default.useReducer(_reducer.useTypeaheadReducer,defaultValues),_React$useReducer2=(0,_slicedToArray2.default)(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];var dispatchWithProps=function dispatchWithProps(object){dispatch((0,_extends2.default)({},object,{props:props}));};var inputValue=state.inputValue,isOpen=state.isOpen;var items=props.items,onInputValueChange=props.onInputValueChange,onSelectedItemChange=props.onSelectedItemChange,selectedItem=props.selectedItem,itemToString=props.itemToString;var isControlled=isControlledProp(props,'selectedItem');(0,_react.useEffect)(function(){if(isControlled){dispatch({type:stateChangeTypes.ControlledPropUpdatedSelectedItem,inputValue:itemToString(selectedItem)});}},[selectedItem,isControlled,itemToString]);var onChangeText=function onChangeText(text){onInputValueChange==null?void 0:onInputValueChange({inputValue:text});dispatchWithProps({type:stateChangeTypes.InputChange,inputValue:text});};var handleItemSelect=function handleItemSelect(item,index){onSelectedItemChange==null?void 0:onSelectedItemChange(item);dispatchWithProps({type:stateChangeTypes.ItemClick,index:index});_reactNative.Keyboard.dismiss();};var getMenuItemProps=function getMenuItemProps(item,index){return{onPress:function onPress(){return handleItemSelect(item,index);},accessible:true,accessiblityRole:'menuitem'};};var getMenuProps=function getMenuProps(){return{accessible:true,accessibilityRole:'menu',accessibilityHint:\"Showing \"+items.length+\" records\"};};var getToggleButtonProps=function getToggleButtonProps(){return{onPress:function onPress(){dispatchWithProps({type:stateChangeTypes.ToggleButtonClick});}};};var getInputProps=function getInputProps(propInputVal,propOnchangeText){return{onChangeText:propInputVal?propOnchangeText:onChangeText,value:propInputVal?propInputVal:inputValue,accessibilityRole:'combobox',accessibilityLabel:'Typeahead input',accessibilityState:{expanded:isOpen}};};return{getInputProps:getInputProps,getMenuItemProps:getMenuItemProps,getMenuProps:getMenuProps,getToggleButtonProps:getToggleButtonProps,isOpen:isOpen};}\n//# sourceMappingURL=useTypeahead.js.map"]},"metadata":{},"sourceType":"script"}