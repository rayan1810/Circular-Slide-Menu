{"ast":null,"code":"var _s = $RefreshSig$();\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Stack = require(\"../../primitives/Stack\");\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _FormControl = require(\"../FormControl\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Context = require(\"./Context\");\n\nvar _theme = require(\"../../../theme\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/PinInput/PinInput.tsx\";\n\nvar PinInput = function PinInput(_ref, ref1) {\n  _s();\n\n  var children = _ref.children,\n      props = (0, _objectWithoutProperties2.default)(_ref, [\"children\"]);\n\n  var _themeTools$extractIn = _theme.themeTools.extractInObject(props, ['p', 'px', 'py', 'pt', 'pb', 'pl', 'pr']),\n      _themeTools$extractIn2 = (0, _slicedToArray2.default)(_themeTools$extractIn, 2),\n      padding = _themeTools$extractIn2[0],\n      remProps = _themeTools$extractIn2[1];\n\n  var _useThemeProps = (0, _hooks.useThemeProps)('PinInput', remProps),\n      manageFocus = _useThemeProps.manageFocus,\n      defaultValue = _useThemeProps.defaultValue,\n      value = _useThemeProps.value,\n      space = _useThemeProps.space,\n      onChange = _useThemeProps.onChange,\n      newProps = (0, _objectWithoutProperties2.default)(_useThemeProps, [\"manageFocus\", \"defaultValue\", \"value\", \"space\", \"onChange\"]);\n\n  var formControlContext = (0, _FormControl.useFormControlContext)();\n  var RefList = [];\n\n  var setRefList = function setRefList(ref, index) {\n    RefList[index] = ref;\n  };\n\n  var _React$useState = _react.default.useState(value || defaultValue),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      pinInputValue = _React$useState2[0],\n      setPinInputValue = _React$useState2[1];\n\n  var handleChange = function handleChange(newValue, fieldIndex) {\n    var temp = pinInputValue && (0, _toConsumableArray2.default)(pinInputValue) || [];\n    temp[fieldIndex] = newValue;\n    value === undefined && setPinInputValue(temp.join(''));\n    onChange && onChange(temp.join(''));\n    if (newValue === '' && manageFocus && fieldIndex - 1 > -1) RefList[fieldIndex - 1].current.focus();else if (newValue && manageFocus && fieldIndex + 1 < RefList.length) RefList[fieldIndex + 1].current.focus();\n    return temp.join('');\n  };\n\n  var handleMultiValueChange = function handleMultiValueChange(newValue, fieldIndex) {\n    var pinFieldLength = RefList.length;\n    var newValueLength = newValue.length;\n\n    if (newValueLength >= pinFieldLength && newValueLength > 2) {\n      var splicedValue = newValue ? (0, _toConsumableArray2.default)(newValue) : [];\n      splicedValue.splice(pinFieldLength);\n      RefList[pinFieldLength - 1].current.focus();\n      setPinInputValue(splicedValue.join(''));\n      onChange && onChange(splicedValue.join(''));\n    }\n\n    if (_reactNative.Platform.OS !== 'ios') {\n      var temp = pinInputValue ? (0, _toConsumableArray2.default)(pinInputValue) : [];\n\n      if (newValue === '') {\n        temp = temp.filter(function (_n, i) {\n          return i !== fieldIndex;\n        });\n        if (manageFocus && fieldIndex - 1 > -1) RefList[fieldIndex - 1].current.focus();\n      } else {\n        temp[fieldIndex] = JSON.stringify(parseInt(newValue, 10) % 10);\n        if (manageFocus && fieldIndex + 1 < RefList.length) RefList[fieldIndex + 1].current.focus();\n      }\n\n      value === undefined && setPinInputValue(temp.join(''));\n      onChange && onChange(temp.join(''));\n    }\n  };\n\n  var indexSetter = function indexSetter(allChildren) {\n    var pinInputFiledCounter = -1;\n    return _react.default.Children.map(allChildren, function (child) {\n      pinInputFiledCounter++;\n      return _react.default.cloneElement(child, {\n        fieldIndex: pinInputFiledCounter\n      }, child.props.children);\n    });\n  };\n\n  _react.default.useEffect(function () {\n    if (value !== undefined && value != pinInputValue) setPinInputValue(value);\n  }, [value, pinInputValue, setPinInputValue]);\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  return _react.default.createElement(_Context.PinInputContext.Provider, {\n    value: (0, _extends2.default)({}, formControlContext, newProps, {\n      setRefList: setRefList,\n      handleChange: handleChange,\n      handleMultiValueChange: handleMultiValueChange,\n      value: pinInputValue\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, children && _react.default.createElement(_Stack.HStack, (0, _extends2.default)({\n    flexDirection: \"row\",\n    space: space\n  }, padding, {\n    ref: ref1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), indexSetter(children)));\n};\n\n_s(PinInput, \"LzkqOsLkakV8/JYyY25JYIS5nnE=\");\n\n_c = PinInput;\n\nvar _default = _react.default.memo(_react.default.forwardRef(PinInput));\n\nexports.default = _default;\n\nvar _c;\n\n$RefreshReg$(_c, \"PinInput\");\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["C:\\projects\\portfolio\\experiment-1\\node_modules\\native-base\\lib\\commonjs\\components\\composites\\PinInput\\PinInput.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_extends2","_toConsumableArray2","_slicedToArray2","_objectWithoutProperties2","_react","_Stack","_hooks","_FormControl","_Context","_theme","_useHasResponsiveProps","_this","_jsxFileName","PinInput","_ref","ref","children","props","_themeTools$extractIn","themeTools","extractInObject","_themeTools$extractIn2","padding","remProps","_useThemeProps","useThemeProps","manageFocus","defaultValue","space","onChange","newProps","formControlContext","useFormControlContext","RefList","setRefList","index","_React$useState","useState","_React$useState2","pinInputValue","setPinInputValue","handleChange","newValue","fieldIndex","temp","undefined","join","current","focus","length","handleMultiValueChange","pinFieldLength","newValueLength","splicedValue","splice","_reactNative","Platform","OS","filter","_n","i","JSON","stringify","parseInt","indexSetter","allChildren","pinInputFiledCounter","Children","map","child","cloneElement","useEffect","useHasResponsiveProps","createElement","PinInputContext","Provider","__self","__source","fileName","lineNumber","columnNumber","HStack","flexDirection","_default","memo","forwardRef"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireDefault(require(\"react\"));var _Stack=require(\"../../primitives/Stack\");var _hooks=require(\"../../../hooks\");var _FormControl=require(\"../FormControl\");var _reactNative=require(\"react-native\");var _Context=require(\"./Context\");var _theme=require(\"../../../theme\");var _useHasResponsiveProps=require(\"../../../hooks/useHasResponsiveProps\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/composites/PinInput/PinInput.tsx\";var PinInput=function PinInput(_ref,ref){var children=_ref.children,props=(0,_objectWithoutProperties2.default)(_ref,[\"children\"]);var _themeTools$extractIn=_theme.themeTools.extractInObject(props,['p','px','py','pt','pb','pl','pr']),_themeTools$extractIn2=(0,_slicedToArray2.default)(_themeTools$extractIn,2),padding=_themeTools$extractIn2[0],remProps=_themeTools$extractIn2[1];var _useThemeProps=(0,_hooks.useThemeProps)('PinInput',remProps),manageFocus=_useThemeProps.manageFocus,defaultValue=_useThemeProps.defaultValue,value=_useThemeProps.value,space=_useThemeProps.space,onChange=_useThemeProps.onChange,newProps=(0,_objectWithoutProperties2.default)(_useThemeProps,[\"manageFocus\",\"defaultValue\",\"value\",\"space\",\"onChange\"]);var formControlContext=(0,_FormControl.useFormControlContext)();var RefList=[];var setRefList=function setRefList(ref,index){RefList[index]=ref;};var _React$useState=_react.default.useState(value||defaultValue),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),pinInputValue=_React$useState2[0],setPinInputValue=_React$useState2[1];var handleChange=function handleChange(newValue,fieldIndex){var temp=pinInputValue&&(0,_toConsumableArray2.default)(pinInputValue)||[];temp[fieldIndex]=newValue;value===undefined&&setPinInputValue(temp.join(''));onChange&&onChange(temp.join(''));if(newValue===''&&manageFocus&&fieldIndex-1>-1)RefList[fieldIndex-1].current.focus();else if(newValue&&manageFocus&&fieldIndex+1<RefList.length)RefList[fieldIndex+1].current.focus();return temp.join('');};var handleMultiValueChange=function handleMultiValueChange(newValue,fieldIndex){var pinFieldLength=RefList.length;var newValueLength=newValue.length;if(newValueLength>=pinFieldLength&&newValueLength>2){var splicedValue=newValue?(0,_toConsumableArray2.default)(newValue):[];splicedValue.splice(pinFieldLength);RefList[pinFieldLength-1].current.focus();setPinInputValue(splicedValue.join(''));onChange&&onChange(splicedValue.join(''));}if(_reactNative.Platform.OS!=='ios'){var temp=pinInputValue?(0,_toConsumableArray2.default)(pinInputValue):[];if(newValue===''){temp=temp.filter(function(_n,i){return i!==fieldIndex;});if(manageFocus&&fieldIndex-1>-1)RefList[fieldIndex-1].current.focus();}else{temp[fieldIndex]=JSON.stringify(parseInt(newValue,10)%10);if(manageFocus&&fieldIndex+1<RefList.length)RefList[fieldIndex+1].current.focus();}value===undefined&&setPinInputValue(temp.join(''));onChange&&onChange(temp.join(''));}};var indexSetter=function indexSetter(allChildren){var pinInputFiledCounter=-1;return _react.default.Children.map(allChildren,function(child){pinInputFiledCounter++;return _react.default.cloneElement(child,{fieldIndex:pinInputFiledCounter},child.props.children);});};_react.default.useEffect(function(){if(value!==undefined&&value!=pinInputValue)setPinInputValue(value);},[value,pinInputValue,setPinInputValue]);if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}return _react.default.createElement(_Context.PinInputContext.Provider,{value:(0,_extends2.default)({},formControlContext,newProps,{setRefList:setRefList,handleChange:handleChange,handleMultiValueChange:handleMultiValueChange,value:pinInputValue}),__self:_this,__source:{fileName:_jsxFileName,lineNumber:102,columnNumber:5}},children&&_react.default.createElement(_Stack.HStack,(0,_extends2.default)({flexDirection:\"row\",space:space},padding,{ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:113,columnNumber:9}}),indexSetter(children)));};var _default=_react.default.memo(_react.default.forwardRef(PinInput));exports.default=_default;\n//# sourceMappingURL=PinInput.js.map"]},"metadata":{},"sourceType":"script"}