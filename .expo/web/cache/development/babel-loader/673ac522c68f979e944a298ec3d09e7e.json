{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractProps = extractProps;\nexports.mergeUnderscoreProps = mergeUnderscoreProps;\nexports.calculateProps = calculateProps;\nexports.resolveValueWithBreakpoint = exports.extractPropertyFromFunction = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectDestructuringEmpty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.isnil\"));\n\nvar _lodash3 = _interopRequireDefault(require(\"lodash.mergewith\"));\n\nvar _lodash4 = _interopRequireDefault(require(\"lodash.clonedeep\"));\n\nvar _base = require(\"./../../theme/base\");\n\nvar _tools = require(\"./../../theme/tools\");\n\nvar _useContrastText = require(\"../useContrastText\");\n\nfunction extractProps(props, theme, _ref, componentTheme, currentBreakpoint) {\n  (0, _objectDestructuringEmpty2.default)(_ref);\n  var newProps = {};\n\n  for (var property in props) {\n    if (_base.themePropertyMap[property]) {\n      var propValues = extractPropertyFromFunction(property, props, theme, componentTheme);\n\n      if (typeof propValues === 'string' || typeof propValues === 'number') {\n        newProps[property] = propValues;\n      } else if (!(0, _lodash2.default)(propValues)) {\n        for (var nestedProp in propValues) {\n          newProps[nestedProp] = (0, _lodash.default)(theme, _base.themePropertyMap[nestedProp] + \".\" + propValues[nestedProp], propValues[nestedProp]);\n        }\n      } else if (property === 'shadow') {\n        var shadowProps = theme[_base.themePropertyMap[property]][props[property]];\n\n        if (!(0, _lodash2.default)(shadowProps)) {\n          newProps = (0, _extends2.default)({}, newProps, shadowProps);\n        }\n      } else {\n        newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n      }\n    } else {\n      newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n    }\n  }\n\n  return (0, _lodash4.default)(newProps);\n}\n\nfunction filterDefaultProps(props, defaultProps) {\n  var _extractInObject = (0, _tools.extractInObject)(defaultProps, Object.keys(props)),\n      _extractInObject2 = (0, _slicedToArray2.default)(_extractInObject, 2),\n      resultProps = _extractInObject2[1];\n\n  return resultProps;\n}\n\nvar extractPropertyFromFunction = function extractPropertyFromFunction(property, props, theme, componentTheme) {\n  var propValues;\n\n  if (componentTheme && typeof componentTheme[_base.themePropertyMap[property]] === 'function') {\n    var funcProps = componentTheme[_base.themePropertyMap[property]]((0, _extends2.default)({\n      theme: theme\n    }, props));\n\n    var isNested = Object.keys(funcProps).some(function (key) {\n      return funcProps[key] && typeof funcProps[key] === 'object';\n    });\n    propValues = isNested ? (0, _extends2.default)({}, (0, _lodash.default)(funcProps, \"\" + props[property])) : (0, _extends2.default)({}, funcProps);\n  } else {\n    propValues = (0, _lodash.default)(componentTheme, _base.themePropertyMap[property] + \".\" + props[property]);\n  }\n\n  return propValues;\n};\n\nexports.extractPropertyFromFunction = extractPropertyFromFunction;\n\nfunction mergeUnderscoreProps(newProps, props) {\n  var _props = Object.keys(newProps).filter(function (propName) {\n    return propName.startsWith('_');\n  });\n\n  _props.forEach(function (propName) {\n    var _newProps$bg, _newProps$propName$co, _newProps$propName, _props$propName;\n\n    var bg = (_newProps$bg = newProps.bg) != null ? _newProps$bg : newProps.backgroundColor;\n    var textColor = bg ? {\n      color: (0, _useContrastText.useContrastText)(bg, (_newProps$propName$co = (_newProps$propName = newProps[propName]) == null ? void 0 : _newProps$propName.color) != null ? _newProps$propName$co : (_props$propName = props[propName]) == null ? void 0 : _props$propName.color)\n    } : {};\n    newProps[propName] = (0, _extends2.default)({}, textColor, newProps[propName], props[propName]);\n  });\n\n  return newProps;\n}\n\nvar resolveValueWithBreakpoint = function resolveValueWithBreakpoint(values, breakpointTheme, currentBreakpoint, property) {\n  if ((0, _tools.hasValidBreakpointFormat)(values, breakpointTheme, property)) {\n    return (0, _tools.findLastValidBreakpoint)(values, breakpointTheme, currentBreakpoint);\n  } else {\n    return values;\n  }\n};\n\nexports.resolveValueWithBreakpoint = resolveValueWithBreakpoint;\n\nfunction calculateProps(theme, colorModeProps, componentTheme, props, windowWidth) {\n  var currentBreakpoint = (0, _tools.getClosestBreakpoint)(theme.breakpoints, windowWidth);\n\n  if (!props) {\n    props = {};\n  }\n\n  var newProps;\n\n  if (componentTheme) {\n    newProps = extractProps(filterDefaultProps(props, componentTheme.defaultProps), theme, colorModeProps, componentTheme, currentBreakpoint);\n    var componentBaseStyle = typeof componentTheme.baseStyle !== 'function' ? componentTheme.baseStyle : componentTheme.baseStyle((0, _extends2.default)({\n      theme: theme\n    }, newProps, props, colorModeProps));\n    newProps = (0, _lodash3.default)(newProps, componentBaseStyle, function (objValue, srcValue, key) {\n      if (!(0, _lodash2.default)(objValue)) {\n        delete newProps[key];\n      }\n    });\n    var variant = props.variant || (0, _lodash.default)(componentTheme, 'defaultProps.variant');\n\n    if (variant && componentTheme.variants && componentTheme.variants[variant]) {\n      var colorScheme = props.colorScheme || (0, _lodash.default)(componentTheme, 'defaultProps.colorScheme');\n      var variantProps = componentTheme.variants[variant]((0, _extends2.default)({}, props, newProps, {\n        colorScheme: colorScheme,\n        theme: theme\n      }, colorModeProps));\n      variantProps = extractProps(variantProps, theme, colorModeProps, componentTheme, currentBreakpoint);\n      newProps = (0, _lodash3.default)(newProps, variantProps, function (objValue, srcValue, key) {\n        if (!(0, _lodash2.default)(objValue)) {\n          delete newProps[key];\n        }\n      });\n      delete newProps.variant;\n      delete newProps.colorScheme;\n    }\n  }\n\n  var extractedProps = extractProps(props, theme, colorModeProps, componentTheme, currentBreakpoint);\n  newProps = (0, _lodash3.default)(newProps, extractedProps, function (objValue, srcValue, key) {\n    if (!(0, _lodash2.default)(objValue)) {\n      delete newProps[key];\n    }\n  });\n  newProps = mergeUnderscoreProps(newProps, props);\n  return newProps;\n}\n\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["C:\\projects\\portfolio\\experiment-1\\node_modules\\native-base\\lib\\commonjs\\hooks\\useThemeProps\\utils.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","extractProps","mergeUnderscoreProps","calculateProps","resolveValueWithBreakpoint","extractPropertyFromFunction","_slicedToArray2","_extends2","_objectDestructuringEmpty2","_lodash","_lodash2","_lodash3","_lodash4","_base","_tools","_useContrastText","props","theme","_ref","componentTheme","currentBreakpoint","default","newProps","property","themePropertyMap","propValues","nestedProp","shadowProps","breakpoints","filterDefaultProps","defaultProps","_extractInObject","extractInObject","keys","_extractInObject2","resultProps","funcProps","isNested","some","key","_props","filter","propName","startsWith","forEach","_newProps$bg","_newProps$propName$co","_newProps$propName","_props$propName","bg","backgroundColor","textColor","color","useContrastText","values","breakpointTheme","hasValidBreakpointFormat","findLastValidBreakpoint","colorModeProps","windowWidth","getClosestBreakpoint","componentBaseStyle","baseStyle","objValue","srcValue","variant","variants","colorScheme","variantProps","extractedProps"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.extractProps=extractProps;exports.mergeUnderscoreProps=mergeUnderscoreProps;exports.calculateProps=calculateProps;exports.resolveValueWithBreakpoint=exports.extractPropertyFromFunction=void 0;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectDestructuringEmpty2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));var _lodash=_interopRequireDefault(require(\"lodash.get\"));var _lodash2=_interopRequireDefault(require(\"lodash.isnil\"));var _lodash3=_interopRequireDefault(require(\"lodash.mergewith\"));var _lodash4=_interopRequireDefault(require(\"lodash.clonedeep\"));var _base=require(\"./../../theme/base\");var _tools=require(\"./../../theme/tools\");var _useContrastText=require(\"../useContrastText\");function extractProps(props,theme,_ref,componentTheme,currentBreakpoint){(0,_objectDestructuringEmpty2.default)(_ref);var newProps={};for(var property in props){if(_base.themePropertyMap[property]){var propValues=extractPropertyFromFunction(property,props,theme,componentTheme);if(typeof propValues==='string'||typeof propValues==='number'){newProps[property]=propValues;}else if(!(0,_lodash2.default)(propValues)){for(var nestedProp in propValues){newProps[nestedProp]=(0,_lodash.default)(theme,_base.themePropertyMap[nestedProp]+\".\"+propValues[nestedProp],propValues[nestedProp]);}}else if(property==='shadow'){var shadowProps=theme[_base.themePropertyMap[property]][props[property]];if(!(0,_lodash2.default)(shadowProps)){newProps=(0,_extends2.default)({},newProps,shadowProps);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}return(0,_lodash4.default)(newProps);}function filterDefaultProps(props,defaultProps){var _extractInObject=(0,_tools.extractInObject)(defaultProps,Object.keys(props)),_extractInObject2=(0,_slicedToArray2.default)(_extractInObject,2),resultProps=_extractInObject2[1];return resultProps;}var extractPropertyFromFunction=function extractPropertyFromFunction(property,props,theme,componentTheme){var propValues;if(componentTheme&&typeof componentTheme[_base.themePropertyMap[property]]==='function'){var funcProps=componentTheme[_base.themePropertyMap[property]]((0,_extends2.default)({theme:theme},props));var isNested=Object.keys(funcProps).some(function(key){return funcProps[key]&&typeof funcProps[key]==='object';});propValues=isNested?(0,_extends2.default)({},(0,_lodash.default)(funcProps,\"\"+props[property])):(0,_extends2.default)({},funcProps);}else{propValues=(0,_lodash.default)(componentTheme,_base.themePropertyMap[property]+\".\"+props[property]);}return propValues;};exports.extractPropertyFromFunction=extractPropertyFromFunction;function mergeUnderscoreProps(newProps,props){var _props=Object.keys(newProps).filter(function(propName){return propName.startsWith('_');});_props.forEach(function(propName){var _newProps$bg,_newProps$propName$co,_newProps$propName,_props$propName;var bg=(_newProps$bg=newProps.bg)!=null?_newProps$bg:newProps.backgroundColor;var textColor=bg?{color:(0,_useContrastText.useContrastText)(bg,(_newProps$propName$co=(_newProps$propName=newProps[propName])==null?void 0:_newProps$propName.color)!=null?_newProps$propName$co:(_props$propName=props[propName])==null?void 0:_props$propName.color)}:{};newProps[propName]=(0,_extends2.default)({},textColor,newProps[propName],props[propName]);});return newProps;}var resolveValueWithBreakpoint=function resolveValueWithBreakpoint(values,breakpointTheme,currentBreakpoint,property){if((0,_tools.hasValidBreakpointFormat)(values,breakpointTheme,property)){return(0,_tools.findLastValidBreakpoint)(values,breakpointTheme,currentBreakpoint);}else{return values;}};exports.resolveValueWithBreakpoint=resolveValueWithBreakpoint;function calculateProps(theme,colorModeProps,componentTheme,props,windowWidth){var currentBreakpoint=(0,_tools.getClosestBreakpoint)(theme.breakpoints,windowWidth);if(!props){props={};}var newProps;if(componentTheme){newProps=extractProps(filterDefaultProps(props,componentTheme.defaultProps),theme,colorModeProps,componentTheme,currentBreakpoint);var componentBaseStyle=typeof componentTheme.baseStyle!=='function'?componentTheme.baseStyle:componentTheme.baseStyle((0,_extends2.default)({theme:theme},newProps,props,colorModeProps));newProps=(0,_lodash3.default)(newProps,componentBaseStyle,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});var variant=props.variant||(0,_lodash.default)(componentTheme,'defaultProps.variant');if(variant&&componentTheme.variants&&componentTheme.variants[variant]){var colorScheme=props.colorScheme||(0,_lodash.default)(componentTheme,'defaultProps.colorScheme');var variantProps=componentTheme.variants[variant]((0,_extends2.default)({},props,newProps,{colorScheme:colorScheme,theme:theme},colorModeProps));variantProps=extractProps(variantProps,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,variantProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});delete newProps.variant;delete newProps.colorScheme;}}var extractedProps=extractProps(props,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,extractedProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});newProps=mergeUnderscoreProps(newProps,props);return newProps;}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}